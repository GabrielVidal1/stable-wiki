"use strict";(self.webpackChunkstable_wiki=self.webpackChunkstable_wiki||[]).push([[540],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},f=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=a(e,["components","mdxType","originalType","parentName"]),p=c(n),f=r,m=p["".concat(s,".").concat(f)]||p[f]||d[f]||i;return n?o.createElement(m,l(l({ref:t},u),{},{components:n})):o.createElement(m,l({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=f;var a={};for(var s in t)hasOwnProperty.call(t,s)&&(a[s]=t[s]);a.originalType=e,a[p]="string"==typeof e?e:r,l[1]=a;for(var c=2;c<i;c++)l[c]=n[c];return o.createElement.apply(null,l)}return o.createElement.apply(null,n)}f.displayName="MDXCreateElement"},6488:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var o=n(7462),r=(n(7294),n(3905));const i={sidebar_position:5},l="ControlNet",a={unversionedId:"customize/ControlNet",id:"customize/ControlNet",title:"ControlNet",description:"ControlNet is a neural network structure to control diffusion models by adding extra conditions.",source:"@site/docs/customize/ControlNet.md",sourceDirName:"customize",slug:"/customize/ControlNet",permalink:"/docs/customize/ControlNet",draft:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"LoRA",permalink:"/docs/customize/LoRA"}},s={},c=[{value:"technical doc",id:"technical-doc",level:2},{value:"Demo",id:"demo",level:2}],u={toc:c},p="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(p,(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"controlnet"},"ControlNet"),(0,r.kt)("p",null,"ControlNet is a neural network structure to control diffusion models by adding extra conditions."),(0,r.kt)("p",null,'It copys the weights of neural network blocks into a "locked" copy and a "trainable" copy.'),(0,r.kt)("p",null,'The "trainable" one learns your condition. The "locked" one preserves your model.'),(0,r.kt)("p",null,"Thanks to this, training with small dataset of image pairs will not destroy the production-ready diffusion models."),(0,r.kt)("p",null,'The "zero convolution" is 1\xd71 convolution with both weight and bias initialized as zeros.'),(0,r.kt)("p",null,"Before training, all zero convolutions output zeros, and ControlNet will not cause any distortion."),(0,r.kt)("p",null,"No layer is trained from scratch. You are still fine-tuning. Your original model is safe."),(0,r.kt)("p",null,"This allows training on small-scale or even personal devices."),(0,r.kt)("p",null,"This is also friendly to merge/replacement/offsetting of models/weights/blocks/layers."),(0,r.kt)("p",null,"Repo: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lllyasviel/ControlNet"},"https://github.com/lllyasviel/ControlNet")),(0,r.kt)("h2",{id:"technical-doc"},"technical doc"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://huggingface.co/docs/diffusers/main/en/api/pipelines/stable_diffusion/controlnet"},"https://huggingface.co/docs/diffusers/main/en/api/pipelines/stable_diffusion/controlnet")),(0,r.kt)("h2",{id:"demo"},"Demo"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://huggingface.co/spaces/RamAnanth1/ControlNet"},"https://huggingface.co/spaces/RamAnanth1/ControlNet")))}d.isMDXComponent=!0}}]);